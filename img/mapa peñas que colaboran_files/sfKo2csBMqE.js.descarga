;/*FB_PKG_DELIM*/

__d("PolarisExploreVariants",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({FOR_YOU:"for_you",NONPERSONALIZED:"nonpersonalized"});c=a;f["default"]=c}),66);
__d("PolarisDynamicExploreVariantsHelper",["PolarisExploreVariants"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a==null||c("PolarisExploreVariants").cast(String(a))==="for_you"?!1:!0}g.shouldShowNonPersonalizedExplore=a}),98);
__d("PolarisDynamicExplorePageContentWrapper.react",["cx","PolarisNavigationLayoutContext","PolarisSearchBoxContainer.react","PolarisUA","react","usePolarisIsOnExplorePage"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext;function a(a){var b=a.children;a=a.pageId;var e=j(c("PolarisNavigationLayoutContext"));e=e.navigationPosition;e=c("usePolarisIsOnExplorePage")()&&d("PolarisUA").isDesktop()&&e==="bottom";return i.jsxs("div",{className:"_ac-t"+(d("PolarisUA").isDesktop()?" _ac-u":"")+(d("PolarisUA").isDesktop()?" _ac-v":""),"data-testid":void 0,children:[e&&i.jsx(c("PolarisSearchBoxContainer.react"),{analyticsContext:a,searchBoxOnExplore:!0,useHistory:!1}),b]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisKeywordSearchRefinementPill.react",["IGDSButton.react","PolarisDynamicExploreActions","PolarisLinkBuilder","PolarisReactRedux","PolarisSearchActions","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.keywordRefinement,e=d("PolarisReactRedux").useDispatch();a=function(a){e(d("PolarisDynamicExploreActions").trackKeywordId(b.keywordId,b.keywordName)),e(d("PolarisSearchActions").navigateToSuggestedOrRecentSearch(b.keywordName))};return h.jsx(c("IGDSButton.react"),{display:"block",href:d("PolarisLinkBuilder").getKeywordSearchResultLink(b.keywordName),label:b.displayText,onClick:a,variant:"secondary"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisKeywordSearchRefinementPillSection.react",["cx","CometRouteParams","IGDSBox.react","IGDSButton.react","IGDSChevronDownPanoOutline24Icon","IGDSDivider.react","IGDSIconButton.react","IGDSLazyPopoverTrigger.react","IGDSTab.react","IGDSTabGroup.react","JSResourceForInteraction","PolarisDynamicExploreVariantsHelper","PolarisHSnapScroll.react","PolarisIGVirtualList.react","PolarisKeywordExploreStrings","PolarisKeywordSearchRefinementPill.react","PolarisLinkBuilder","PolarisUA","emptyFunction","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useMemo,k=b.useState,l={labelMargin:{marginTop:"x1anpbxc",marginBottom:"xyorhqc",marginStart:"x17adc0v",marginEnd:"x1t4t16n",fontWeight:"x117nqv4",$$css:!0},noShrink:{flexShrink:"x2lah0s",marginEnd:"x11jkl0l",marginStart:"x1orzsq4",$$css:!0},tertiaryTextColor:{color:"xb88cxz",$$css:!0}};function a(a){var b=a.currentKeyword,e=a.keywordRefinements;a=d("CometRouteParams").useRouteParams();a=a.variant;a=d("PolarisDynamicExploreVariantsHelper").shouldShowNonPersonalizedExplore(a);var f=j(function(){return b!=null?e.find(function(a){return a.displayText===b}):null},[b,e]);a=k(a?d("PolarisKeywordExploreStrings").NOT_PERSONALIZED_KEY:d("PolarisKeywordExploreStrings").FOR_YOU_KEY);var g=a[0];a=a[1];var h=function(a){var b=a.index;a.isVisible;a=e[b];return i.jsx(c("IGDSBox.react"),{direction:"column",marginEnd:3,position:"relative",children:i.jsx(c("PolarisKeywordSearchRefinementPill.react"),{keywordRefinement:a})},a.keywordId)},m=c("JSResourceForInteraction")("PolarisExplorePagePersonalizationMenu.react").__setRef("PolarisKeywordSearchRefinementPillSection.react");if(c("qex")._("516"))return i.jsxs(i.Fragment,{children:[i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",minHeight:50,children:[i.jsx(c("IGDSLazyPopoverTrigger.react"),{align:"start",popoverProps:{onClose:c("emptyFunction"),keyword:b,parentState:g,setParentState:a},popoverResource:m,position:"below",preloadTrigger:"button",children:function(a,e){return i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSButton.react"),{label:g===d("PolarisKeywordExploreStrings").FOR_YOU_KEY?d("PolarisKeywordExploreStrings").FOR_YOU:d("PolarisKeywordExploreStrings").NOT_PERSONALIZED,onClick:function(){return e()},ref:a,variant:"secondary_link",xstyle:[l.labelMargin,b!==""&&l.tertiaryTextColor]}),i.jsx(c("IGDSIconButton.react"),{onClick:e,xstyle:l.noShrink,children:i.jsx(c("IGDSChevronDownPanoOutline24Icon"),{alt:d("PolarisKeywordExploreStrings").DOWN_CHEVRON,color:"ig-secondary-button",size:10})})]})}}),g===d("PolarisKeywordExploreStrings").FOR_YOU_KEY&&i.jsx(c("PolarisHSnapScroll.react"),{itemCount:e.length,itemWidth:100,children:i.jsx(c("IGDSTabGroup.react"),{leftAlign:!0,onChange:c("emptyFunction"),value:f==null?void 0:f.keywordId,children:e.map(function(a){return i.jsx(c("IGDSTab.react"),{href:d("PolarisLinkBuilder").getKeywordSearchResultLink(a.keywordName),label:a.displayText,leftAlign:!0,value:a.keywordId},a.keywordId)})})})]}),i.jsx(c("IGDSDivider.react"),{variant:"elevated"})]});return d("PolarisUA").isMobile()?i.jsx("div",{className:"_ad3m",children:i.jsx(c("PolarisIGVirtualList.react"),{containerSize:"auto",direction:"horizontal",itemCount:e.length,renderer:h,style:{alignSelf:"center",flexShrink:0}})}):i.jsx("div",{className:"_ad3n",children:i.jsx(c("IGDSBox.react"),{direction:"row",marginBottom:1,position:"relative",wrap:!0,children:e.map(function(a){return i.jsx(c("IGDSBox.react"),{direction:"column",marginBottom:4,marginEnd:3,position:"relative",children:i.jsx(c("PolarisKeywordSearchRefinementPill.react"),{keywordRefinement:a})},a.keywordId)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisKeywordSearchExploreHeader.react",["cx","CometRouteParams","IGDSBox.react","PolarisDynamicExploreActions","PolarisDynamicExploreVariantsHelper","PolarisGenericMobileHeader.react","PolarisIGCoreText","PolarisKeywordSearchRefinementPill.react","PolarisKeywordSearchRefinementPillSection.react","PolarisNavBackButton.react","PolarisReactRedux","PolarisStringUtils","PolarisUA","polarisDynamicExploreSelectors","qex","react","usePolarisGetQuery","usePolarisGetQuerySetup"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.keyword;a=d("PolarisReactRedux").useSelector(function(a){return d("polarisDynamicExploreSelectors").getKeywordRefinementItems(a,b)});var e=d("PolarisReactRedux").useSelector(d("polarisDynamicExploreSelectors").getClusters),f=d("CometRouteParams").useRouteParams();f=f.variant;f=d("PolarisDynamicExploreVariantsHelper").shouldShowNonPersonalizedExplore(f);var g=c("usePolarisGetQuery")("/api/v1/discover/web/explore_grid/",{});c("usePolarisGetQuerySetup")(g,d("PolarisDynamicExploreActions").setupDynamicExploreGrid({isNonPersonalizedExplore:f}));if(c("qex")._("516"))return i.jsxs(c("IGDSBox.react"),{children:[i.jsx(c("PolarisKeywordSearchRefinementPillSection.react"),{currentKeyword:b,keywordRefinements:e.map(function(a){return{displayText:a.name,keywordId:a.id,keywordName:a.name,position:a.ranked_position}})}),i.jsx(c("IGDSBox.react"),{marginTop:5,width:"100%"})]});return d("PolarisUA").isMobile()?i.jsx(c("PolarisGenericMobileHeader.react"),{leftActions:i.jsx(c("PolarisNavBackButton.react"),{}),title:d("PolarisStringUtils").lowercaseAndCapitalizeFirst(b)}):i.jsx("div",{className:"_aarr",children:i.jsxs(c("IGDSBox.react"),{position:"relative",children:[i.jsx(c("PolarisIGCoreText").Title,{display:"truncated",children:d("PolarisStringUtils").lowercaseAndCapitalizeFirst(b)}),i.jsx(c("IGDSBox.react"),{direction:"row",position:"relative",wrap:!0,children:a.map(function(a){return i.jsx(c("IGDSBox.react"),{direction:"column",marginEnd:3,marginTop:4,position:"relative",children:i.jsx(c("PolarisKeywordSearchRefinementPill.react"),{keywordRefinement:a})},a.keywordId)})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDynamicExplorePageSharedGrid.react",["CometPlaceholder.react","IGRouter","PolarisDynamicExploreGrid.react","PolarisDynamicExploreMediaHelpers","PolarisKeywordSearchExploreHeader.react","PolarisKeywordSearchRefinementPillSection.react","PolarisLogger","PolarisUA","deferredLoadComponent","logPolarisPostModalOpen","polarisDynamicExploreSelectors","polarisUnexpected","qex","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState,k=c("deferredLoadComponent")(c("requireDeferred")("PolarisDynamicExplorePostModal.react").__setRef("PolarisDynamicExplorePageSharedGrid.react")),l=1;function a(a){var b=a.clusters,e=a.exploreGridQuery,f=a.exploreGridType,g=a.hasMobileHeaderWithRefinements,m=a.logGridItemClick,n=a.logGridItemImpression,o=a.mediaLinkBuilder,p=a.modalEntryPath,q=a.onNextPage,r=a.pageID,s=a.pagination,t=a.requestInitialGrid,u=a.sectionalItems;a=j(!1);var v=a[0],w=a[1];a=j(null);var x=a[0],y=a[1],z=d("IGRouter").useIGHistory();a=function(a,b,c,e,f){var g=c.layout_content,h=c.layout_type;g=g.fill_items.find(function(a){return a.id===b.id});g=g?d("PolarisDynamicExploreMediaHelpers").GRID_ITEM_SIZE.ONE_BY_ONE:d("PolarisDynamicExploreMediaHelpers").getGridItemPlacement(h).size;m&&m(b,g,c,e,f);d("PolarisLogger").logAction("exploreGridItemClicked");d("PolarisUA").isDesktop()&&(a.preventDefault(),A(d("PolarisDynamicExploreMediaHelpers").getPostId(b)))};function A(a){w(!0);y(a);var b=u.findIndex(function(b){return d("polarisDynamicExploreSelectors").getGridItemsFromSectionalItem(b).some(function(b){return b.pk===a})}),e=d("polarisDynamicExploreSelectors").getGridItemsFromSectionalItem(u[b]).find(function(b){return b.pk===a});e=(e=e==null?void 0:e.media_type)!=null?e:0;e===0&&c("polarisUnexpected")("DynamicExplorePageSharedContent: missing media type for post modal log event");c("logPolarisPostModalOpen")(r,e,"explore_page");e=u.length-b-1;s.moreAvailable&&!s.isLoading&&e<l&&q()}var B=function(){w(!1),y(null)};i(function(){return z.listen(function(a){z.action==="POP"&&B()})},[z]);var C=c("qex")._("516")===!0;return h.jsxs(h.Fragment,{children:[b!=null&&b.length>0&&!C&&h.jsx(c("PolarisKeywordSearchRefinementPillSection.react"),{keywordRefinements:b.map(function(a){return{displayText:a.name,keywordId:a.id,keywordName:a.name,position:a.ranked_position}})}),C&&h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(c("PolarisKeywordSearchExploreHeader.react"),{keyword:(b=e)!=null?b:""})}),h.jsx(c("PolarisDynamicExploreGrid.react"),{analyticsContext:r,exploreGridQuery:e,exploreGridType:f,hasNextPage:s.moreAvailable,hasTopRefinementsSection:g,isFetching:s.isLoading,logGridItemImpression:n,mediaLinkBuilder:o,onGridItemClick:a,onNextPage:q,onRetry:t,sectionalItems:u}),v&&x!=null&&h.jsx(k,{analyticsContext:r,exploreGridQuery:e,exploreGridType:f,modalEntryPath:p,onClose:B,onOpen:A,postId:x})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);