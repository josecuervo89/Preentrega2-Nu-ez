;/*FB_PKG_DELIM*/

__d("CometDeferredPopoverTrigger.react",["BasePopoverTrigger.react","CometPopoverLoadingState.react","deferredLoadComponent","react","tracePolicyFromResource","useCometPopoverInteractionTracing"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.doNotCloseOnOutsideClick,d=a.fallback,e=a.popoverProps,f=a.popoverResource,g=a.preloadTrigger,i=a.tracePolicy;a=babelHelpers.objectWithoutPropertiesLoose(a,["doNotCloseOnOutsideClick","fallback","popoverProps","popoverResource","preloadTrigger","tracePolicy"]);var j=c("deferredLoadComponent")(f);i=c("useCometPopoverInteractionTracing")((i=i)!=null?i:c("tracePolicyFromResource")("comet.popover",f),"deferred",g);return h.jsx(c("BasePopoverTrigger.react"),babelHelpers["extends"]({doNotCloseOnOutsideClick:b,fallback:(b=d)!=null?b:h.jsx(c("CometPopoverLoadingState.react"),{withArrow:!0}),interactionTracker:i,popover:j,popoverPreloadResource:f,popoverProps:babelHelpers["extends"]({},e,{loadImmediately:!0}),preloadTrigger:g},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageButton.react",["IGDSIconButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={button:{opacity:"x15vok9n",":active_opacity":"x4gyw5p",":hover_opacity":"x1o7uuvo",$$css:!0}};function a(a){var b=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]);return h.jsx(c("IGDSIconButton.react"),babelHelpers["extends"]({},a,{xstyle:[i.button,b]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSMoreHorizontalOutlineIcon",["IGDSMoreHorizontalPanoOutlineIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSMoreHorizontalPanoOutlineIcon"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDMessageMoreMenuButton.react",["fbt","CometDeferredPopoverTrigger.react","IGDMessageButton.react","IGDSMoreHorizontalOutlineIcon","LSMessagingThreadTypeUtil","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("requireDeferred")("IGDMessageMoreMenuPopover.react").__setRef("IGDMessageMoreMenuButton.react");function a(a){var b=a.isCopyable,e=a.isForwardable,f=a.isMessageRequest,g=a.isReportable,k=a.isUnsendable,l=a.message,m=a.outgoing,n=a.setMoreMenuOpen,o=a.setReportDialogOpen,p=a.setUnsendDialogOpen;a=a.thread;var q=h._("__JHASH__nNxAei6AI9v__JHASH__");return i.jsx(c("CometDeferredPopoverTrigger.react"),{align:m?"end":"start",onVisibilityChange:n,popoverProps:{isCopyable:b,isForwardable:e,isGroup:d("LSMessagingThreadTypeUtil").isGroup(a.threadType),isMessageRequest:f,isReportable:g,isSecure:d("LSMessagingThreadTypeUtil").isSecure(a.threadType),isUnsendable:k,message:l,setReportDialogOpen:o,setUnsendDialogOpen:p,threadSubType:a.threadSubtype},popoverResource:j,popoverType:"menu",position:"above",children:function(a,b){return i.jsx(c("IGDMessageButton.react"),{innerRef:a,label:q,onClick:b,children:i.jsx(c("IGDSMoreHorizontalOutlineIcon"),{alt:q,color:"ig-primary-text","data-testid":void 0,size:16})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageReactionButton.react",["fbt","CometDeferredPopoverTrigger.react","EmojiFormat.bs","IGDMessageButton.react","IGDSFace2OutlineIcon","MAWPSendOrRemoveReaction.bs","emptyFunction","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k=c("requireDeferred")("IGDMessageEmojiPicker.react").__setRef("IGDMessageReactionButton.react");function a(a){var b=a.isSecure,e=a.message,f=a.outgoing,g=a.setReactionsMenuOpen,l=d("MAWPSendOrRemoveReaction.bs").useSendOrRemoveReaction(e,b,"reaction_tray");a=j(function(a){return l(e.messageId,d("EmojiFormat.bs").codeArrayToUnicode(a),"reaction")},[l,e]);var m=f?"end_":"start";b=c("emptyFunction");f={onClose:b,onSelect:a};var n=h._("__JHASH__BdkUyl8gsw5__JHASH__");return i.jsx(c("CometDeferredPopoverTrigger.react"),{align:function(){switch(m){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),onVisibilityChange:function(a){return g(function(){return a})},popoverProps:f,popoverResource:k,popoverType:"menu",position:"above",children:function(a,b){return i.jsx(c("IGDMessageButton.react"),{innerRef:a,label:n,onClick:b,children:i.jsx(c("IGDSFace2OutlineIcon"),{alt:n,color:"ig-primary-text","data-testid":void 0,size:16})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSReplyOutlineIcon",["IGDSReplyPanoOutlineIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSReplyPanoOutlineIcon"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDMessageReplyButton.react",["fbt","IGDMessageButton.react","IGDSReplyOutlineIcon","MWMediaManager.bs","MWPReplyContext.bs","MWV2MessageRowActionsContext.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext,k={button:{opacity:"x15vok9n",":active_opacity":"x4gyw5p",":hover_opacity":"x1o7uuvo",$$css:!0}};function a(a){var b=a.message;a=a.thread;var e=j(d("MWPReplyContext.bs").context),f=e.setReply;e=d("MWMediaManager.bs").useMediaManager(a);var g=e.resetAttachments;a=function(a){f({messageId:b.messageId,offlineThreadingId:b.offlineThreadingId,sendStatusV2:b.sendStatusV2,timestampMs:b.timestampMs},b.threadKey),g()};e=d("MWV2MessageRowActionsContext.bs").useMessageRowActionsContext();e=e.replyToMessage;e.current=a;e=h._("__JHASH__L3od8hyUAW0__JHASH__");return i.jsx(c("IGDMessageButton.react"),{label:e,onClick:a,xstyle:k.button,children:i.jsx(c("IGDSReplyOutlineIcon"),{alt:e,color:"ig-primary-text","data-testid":void 0,size:16})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSMessageThreadUnsendabilityStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_UNSEND:0,DENY_FOR_SPECIFIC_IDS:1,DENY_IF_THREAD_CONTAINS_PAU:2,DENY_IF_THREAD_CONTAINS_WORK_USER:3,DENY_IF_PAGE_THREAD:4,DENY_IF_MARKETPLACE_THREAD:5,DENY_IF_CANNOT_LOAD_THREAD:6,DENY_IF_THREAD_CONTAINS_WORK_USER_FAILING_KILLSWITCH:7,DENY_IF_CANONICAL_THREAD_CONTAINS_BLOCKED_USERS:8,DENY_IF_CANNOT_REPLY_TO_VIEWER_THREAD:9,DENY_IF_UNCONNECTED_THREAD:10});f["default"]=a}),66);
__d("useMWPCanRemoveMessageGlobally",["I64","LSIntEnum","LSMessageThreadUnsendabilityStatus","ThreadStatus"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=a.cannotUnsendReason!=null?d("I64").equal(a.cannotUnsendReason,d("LSIntEnum").ofNumber(c("LSMessageThreadUnsendabilityStatus").CAN_UNSEND)):!0;b=b.cannotUnsendReason!=null?d("I64").equal(b.cannotUnsendReason,d("LSIntEnum").ofNumber(c("LSMessageThreadUnsendabilityStatus").CAN_UNSEND)):!0;a=a.threadStatus!=null&&d("I64").equal(a.threadStatus,d("LSIntEnum").ofNumber(c("ThreadStatus").PAUSED));return e&&b&&!a}g["default"]=a}),98);
__d("IGDMessageRowActions.react",["I64","IGDMessageMoreMenuButton.react","IGDMessageReactionButton.react","IGDMessageReplyButton.react","LSBitFlag","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWGating","MWLSFeatureLimitedStatus.bs","MWLSThread","MWPActor.react","MWPBaseMessageListRowActions.react","MWPMessageHasAttachment.bs","MessagingAttachmentType","ReQL","ReQLSuspense","react","useIsThreadBlocked","useMWPCanRemoveMessageGlobally","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState,j=[d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(16384),d("LSIntEnum").ofNumber(2),d("LSIntEnum").ofNumber(4)];function k(a){var b=a.message,e=a.outgoing,g=a.setMoreMenuOpen,i=a.setReactionsMenuOpen,k=a.setReportDialogOpen;a=a.setUnsendDialogOpen;var l=c("useReStore")(),m=d("MWPActor.react").useActor(),n=c("useIsThreadBlocked")(),o=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(),p=d("MWLSThread").useThreadExn(b.threadKey),q=p.threadKey,r=p.threadType,s=b.displayedContentTypes,t=b.messageId,u=b.senderId,v=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(l.table("contacts")).getKeyRange(u)},[l,u],f.id+":95"),w=d("MWPMessageHasAttachment.bs").make(b),x=d("ReQLSuspense").useFirst(function(){return w?d("ReQL").fromTableAscending(l.table("attachments")).getKeyRange(q,t):d("ReQL").empty()},[l,q,t,w],f.id+":102");m=d("I64").equal(u,m);var y=d("LSMessagingThreadTypeUtil").isSecure(r),z=!m&&d("LSMessagingThreadTypeUtil").isOneToOne(r)&&v!=null?!d("I64").equal(v.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1;v=v!=null&&d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(66),v);var A=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(p);m=!m&&j.findIndex(function(a){return d("I64").equal(s,a)})!==-1;var B=d("I64").equal(s,d("LSBitFlag").empty),C=c("useMWPCanRemoveMessageGlobally")(p,b);x=x!=null&&d("I64").equal(x.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA))?x.isSharable:!0;var D=b.replySourceTypeV2!=null&&d("LSIntEnum").toNumber(b.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD,E=d("I64").equal(s,d("LSIntEnum").ofNumber(1))||d("I64").equal(s,d("LSIntEnum").ofNumber(1033));E=E||D&&!!b.text;D=!n&&!v&&!A&&!o&&!b.isUnsent&&!B&&(d("LSMessagingThreadTypeUtil").isSecure(r)?d("MAWGating").isForwardEnabled():!0)&&d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(103),p)&&x&&!z&&!d("I64").equal(b.displayedContentTypes,d("LSIntEnum").ofNumber(256));o=!n&&!v&&!A&&d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(42),p)&&!b.isUnsent&&!B;r=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(18),p);x=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(139),p);z=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(169),p);n=!n&&!v&&!A&&!b.isUnsent&&!B&&(x?z:r);v=!B&&(D||C||E||m);x=n?h.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:h.jsx(c("IGDMessageReactionButton.react"),{isSecure:y,message:b,outgoing:e,setReactionsMenuOpen:i})}):null;z=o?h.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:h.jsx(c("IGDMessageReplyButton.react"),{message:b,thread:p})}):null;r=v?h.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:h.jsx(c("IGDMessageMoreMenuButton.react"),{isCopyable:E,isForwardable:D,isMessageRequest:A,isReportable:m,isUnsendable:C,message:b,outgoing:e,setMoreMenuOpen:g,setReportDialogOpen:k,setUnsendDialogOpen:a,thread:p})}):null;return h.jsxs(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsList,{outgoing:e,children:[x,z,r]})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var c=a.focused,e=a.hasReactions,f=a.hovered,g=a.message,j=a.outgoing,l=a.setReportDialogOpen;a=a.setUnsendDialogOpen;var m=i(!1),n=m[0];m=m[1];var o=i(!1),p=o[0];o=o[1];f=f||c||p||n;return h.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsContainer,{ariaHidden:b,hasReactions:e,outgoing:j,children:f?h.jsx(k,{message:g,outgoing:j,setMoreMenuOpen:m,setReactionsMenuOpen:o,setReportDialogOpen:l,setUnsendDialogOpen:a}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);